
<div class="tech-btm">

    <p>Teknoloji,yazılım ve diğer bloglar... </p>
    <form method="post">
        <input type="email" id="mail" name="mail" class="tech-btm" required=""> @*type çalışmıyor *@
        <input type="submit" value="ABONE OL" onclick="sendMail();" @*id="btn"*@>
    </form>
    
</div>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" type="text/javascript"></script>

<script type="text/javascript">

    //$("#btn").click(function () {
    //    let values = {
    //        Mail: $("#mail").val()
    //    };

    //    $.ajax({

    //        type: "post",
    //        url: "/NewsLetter/SubscribeMail/",
    //        data: values,
    //        success: function (func) {
    //            let result = jQuery.parseJSON(func);
    //        }

    //    });

    //});

    function sendMail() {
        var mail = $("#mail").val();

        $.ajax({
            type: "post",
            url: "/NewsLetter/SubscribeMail/",
            data: { Mail: mail }

        }).done(function (result) {
            if (result.hasError != undefined && result.hasError) {
                swal({
                    title: "Abone olunmadı. Bir hata oluştu.",
                    //text: "İletiden çıkmak için OK düğmesine tıklayın!",
                    icon: "warning",
                    button: "OK",
                });
            }
            swal({
                title: "Abone Oldun!",
                //text: "İletiden çıkmak için OK düğmesine tıklayın!",
                icon: "success",
                button: "OK",
            });

        }).fail(function () {

            swal({
                title: "Abone olunmadı. Bir hata oluştu.",
                //text: "İletiden çıkmak için OK düğmesine tıklayın!",
                icon: "warning",
                button: "OK",
            });

        })
    }
</script>





